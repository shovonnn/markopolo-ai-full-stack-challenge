:root {
  --bg: #0b0e14;
  --panel: #0f131b;
  --ink: #e6edf3;
  --muted: #9aa4ad;
  --accent: #4f7cff;
  --bubble: #1a2030;
  --border: #1f2430;
}

* { box-sizing: border-box; }

.layout { display: grid; grid-template-columns: 320px 1fr; height: 100vh; background: var(--bg); color: var(--ink); overflow: hidden; }
.sidebar { border-right: 1px solid var(--border); padding: 16px; background: var(--panel); overflow: auto; }
.chat { display: grid; grid-template-rows: 56px 1fr auto; height: 100%; min-height: 0; }
.topbar { display:flex; align-items:center; padding: 0 16px; border-bottom: 1px solid var(--border); background: var(--panel); font-weight: 600; }
.messages { padding: 16px; overflow: auto; min-height: 0; }
.msg { display: flex; margin: 10px 0; }
.msg.user { justify-content: flex-end; }
.bubble { background: var(--bubble); border: 1px solid var(--border); padding: 12px 14px; border-radius: 12px; max-width: 70ch; white-space: pre-wrap; }
.msg.user .bubble { background: #1b2945; border-color: #243252; }

.composer { display: grid; grid-template-columns: 1fr auto; gap: 8px; padding: 12px 16px; border-top: 1px solid var(--border); background: var(--panel); }
.composer input { background: #0c111a; border: 1px solid var(--border); color: var(--ink); padding: 10px 12px; border-radius: 8px; }
.composer button { background: var(--accent); color: white; border: none; padding: 10px 16px; border-radius: 8px; cursor: pointer; }

.selector { margin-bottom: 16px; }
.label { font-size: 12px; color: var(--muted); margin-bottom: 6px; }
.row { display: flex; gap: 8px; align-items: center; padding: 6px 0; }
.connect { width: 100%; margin-top: 8px; padding: 8px 12px; background: var(--accent); color: white; border: 0; border-radius: 8px; cursor: pointer; }
.connect:disabled { background: #3b4767; cursor: not-allowed; }
.hint { font-size: 12px; color: var(--muted); margin-top: 8px; }

/* Adapters list */
.adapter-list { display: grid; gap: 8px; }
.adapter-card { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 10px 12px; background: #0e141f; border: 1px solid #1a2232; border-radius: 10px; }
.adapter-meta { display: flex; align-items: center; gap: 10px; }
.adapter-icon { width: 28px; height: 28px; display: grid; place-items: center; background: #101927; border: 1px solid #1f2a3e; border-radius: 8px; font-size: 14px; }
.adapter-text { display: grid; gap: 2px; }
.adapter-name { font-weight: 700; }
.adapter-desc { font-size: 12px; color: var(--muted); }
.adapter-actions { display: flex; align-items: center; gap: 8px; }
.btn-connect { background: linear-gradient(180deg, #5e8bff, #416aff); color: white; border: 1px solid #3559d8; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: 800; letter-spacing: 0.2px; }
.btn-connect:hover { filter: brightness(1.06); }
.status-pill { padding: 4px 8px; border-radius: 999px; font-size: 12px; border: 1px solid #1b2a2b; }
.status-pill.connected { color: #b2f5c8; background: #0c1913; border-color: #244e37; }
.btn-icon { width: 28px; height: 28px; display: grid; place-items: center; border-radius: 8px; border: 1px solid #27324a; background: #121a29; color: #cbd5ff; cursor: pointer; }
.btn-icon:hover { background: #162037; }
.btn-icon.danger { border-color: #3a2530; color: #ffc9d6; background: #1b1015; }
.btn-icon.danger:hover { background: #25141b; }

/* removed old bottom stream panel */

/* Premium JSON bubble */
.bubble.json { background: #0c111a; border: 2px solid #1f2735; box-shadow: inset 0 0 0 1px #0b1018; max-width: 700px; width: 100%; padding: 0; }
.json-toolbar { display: flex; justify-content: space-between; align-items: center; padding: 10px 12px; border-bottom: 1px solid #1a2230; background: #0e141f; border-top-left-radius: 12px; border-top-right-radius: 12px; }
.json-title { font-size: 12px; color: var(--muted); }
.copy { background: transparent; color: #c9d7ff; border: 1px solid #2a3550; padding: 6px 10px; border-radius: 8px; cursor: pointer; }
.copy:hover { background: #141d2b; }
.code { margin: 0; padding: 12px 14px; color: #bde3ff; border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; overflow-x: auto; white-space: pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, 'Liberation Mono', monospace; font-size: 13px; line-height: 1.5; }
.code.streaming .cursor { animation: blink 1.1s steps(2, jump-none) infinite; color: #7fb0ff; }
@keyframes blink { 50% { opacity: 0; } }

/* Steps bubble */
.bubble.steps { background: #0c111a; border: 2px solid #1f2735; box-shadow: inset 0 0 0 1px #0b1018; max-width: 700px; width: 100%; padding: 12px 14px; }
.steps-header { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; }
.progress { flex: 1; height: 6px; border-radius: 999px; background: #131a27; overflow: hidden; border: 1px solid #1b2333; }
.progress .bar { height: 100%; background: linear-gradient(90deg, #4f7cff, #7aa0ff); width: 0%; }
.steps-title { font-size: 12px; color: var(--muted); }
.steps-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 8px; }
.step-item { background: #0f141f; border: 1px solid #1a2232; border-radius: 10px; }
.step-line { display: flex; align-items: center; gap: 8px; padding: 8px 10px; }
.badge { background: #15203a; color: #a8c1ff; border: 1px solid #223058; padding: 2px 8px; border-radius: 999px; font-size: 12px; }
.label { color: var(--ink); font-weight: 600; }
.expand summary { cursor: pointer; color: #9fb5ff; }
.expand pre.code { margin: 8px 10px; padding: 10px 12px; background: #0b1018; border: 1px solid #1a2230; border-radius: 8px; white-space: pre-wrap; color: #bde3ff; font-family: ui-monospace, Menlo, Consolas, monospace; font-size: 12px; }
.final-block { margin-top: 10px; border-top: 1px solid #1a2230; padding-top: 8px; }
.final-title { font-size: 12px; color: var(--muted); margin-bottom: 6px; }
.spinner { margin-top: 8px; font-size: 12px; color: #9aa4ad; }

/* Launch bar */
.launchbar { display: flex; justify-content: flex-end; gap: 8px; padding: 10px 12px; border-top: 1px solid #172033; background: #0e141f; border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; }
.launch { background: linear-gradient(180deg, #5e8bff, #416aff); color: white; border: 1px solid #3559d8; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: 600; }
.launch:hover { filter: brightness(1.05); }
